<!DOCTYPE html>
<html>
<head>
<title>tobserverTest</title>
<script type="text/javascript" src="tobserver.js"></script>
<script src="jquery.js"></script>
<script src="data.js"></script>
<script type="text/javascript">

$(function(){
//controller
	tobserver.registerObserver(new nameView($('#person0Name')),'someData.persons');
	tobserver.registerObserver(new PhonelistView($('#container')),'someData.blumen');
})

function sortBlumenByName(){
	tobserver.run('someData.blumen.sort',[
		function(a,b){return a.name.localeCompare(b.name);}
	]);
}

function nameView(node){
	//on Update It Will Update The Node.html()
    this.update=function(){
	    node.html(someData['persons'][0]['name']);
	}
}
function PhonelistView(node){
	this.update=function(){
		node.html('');
		var flover=someData.blumen;
		for(phone in flover){
			node.append($('<div>').append(
				$('<div>',{'class':'name'}).append(
					flover[phone].name
				)
			))
		}
	}
}
</script>
</head>
<body>
<input id="nameInput" value="test" type="text" onKeyUp="tobserver.set('someData.persons.0.name',$('#nameInput').val());">
<div>someData.persons.0.Name: <span id="person0Name">template</span>

</div>
<div onClick="var text=someData.persons[0].name; tobserver.get('persons').get(0).set('name','-'+text+'-')">change Name</div>
<h3>blumen</h3>
<div id="container" style="background-color:lightblue; width: 400px;"></div>
someData.person.1.name: <strong class="TobserverView" id="stdViewTest" tPath="someData.persons.1.name"></strong>

</body>
</html>